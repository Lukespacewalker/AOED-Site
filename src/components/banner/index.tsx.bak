import * as React from "react";
import * as PropTypes from "prop-types";
import { GatsbyImage } from "gatsby-plugin-image";
import Header from "@components/header";
import Carousal from "@components/carousal";

import {bannerContainer, bannerText} from "./banner.module.scss";
import {item,video,} from "@components/carousal/carousal.module.scss";

import { StaticQuery, graphql,edgevideo } from "gatsby";

class Banner extends React.Component<{}, {}> {
  constructor(props) {
    super(props);
  }

  render() {
    let videoClassName = video;
    if (typeof window !== "undefined" && /Edge/.test(navigator.userAgent)) {
      videoClassName = edgevideo;
    }
    return (
      <StaticQuery
        query={query}
        render={(data) => {
          const {
            file: {
              childImageSharp: { gatsbyImageData: banner },
            },
          } = data;
          return (
            <div className={bannerContainer}>
              <Carousal>
                <div className={item}>
                  <GatsbyImage
                    imgStyle={{ objectPosition: "center top" }}
                    style={{ height: `100%` }}
                    image={banner}
                  />
                  <div className={bannerText}></div>
                </div>
              </Carousal>
            </div>
          );
        }}
      />
    );
  }
}

export default Banner;

const query = graphql`
  query {
    file(relativePath: { eq: "splash.jpg" }) {
      childImageSharp {gatsbyImageData(layout: FULL_WIDTH)
      }
    }
  }
`;
